import{b as j,u as y,r as c,j as e,a as v}from"./index-BOMawjz4.js";function N(){const m=j(),{user:i}=y(),[t,h]=c.useState({name:"",description:"",theme:"",isPublic:!0}),[o,d]=c.useState(null),[u,x]=c.useState(!1),s=a=>{const{name:n,value:r,type:l}=a.target;h(b=>({...b,[n]:l==="checkbox"?a.target.checked:r}))},p=async a=>{var n,r;a.preventDefault(),d(null),x(!0);try{await v.post("/events",t),m("/")}catch(l){d(((r=(n=l.response)==null?void 0:n.data)==null?void 0:r.error)||"Failed to create event")}finally{x(!1)}};return i!=null&&i.isSuperUser?e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Create Event"}),e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Event Name"}),e.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:s,required:!0,className:"input mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),e.jsx("textarea",{id:"description",name:"description",value:t.description,onChange:s,required:!0,rows:4,className:"input mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"theme",className:"block text-sm font-medium text-gray-700",children:"Theme"}),e.jsx("input",{type:"text",id:"theme",name:"theme",value:t.theme,onChange:s,required:!0,className:"input mt-1",placeholder:"e.g., Summer Vibes, Rock Classics, etc."})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"isPublic",name:"isPublic",checked:t.isPublic,onChange:s,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"isPublic",className:"ml-2 block text-sm text-gray-900",children:"Public Event"})]}),o&&e.jsx("p",{className:"text-red-600 text-sm",children:o}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>m("/"),className:"btn btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:u,className:"btn btn-primary",children:u?"Creating...":"Create Event"})]})]})]}):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-600",children:"Only super users can create events"})})}export{N as default};
