import{u as p,r,j as e,L as i,a as j}from"./index-BOMawjz4.js";function f(){const{user:t}=p(),[c,x]=r.useState([]),[o,m]=r.useState(!0),[n,h]=r.useState(null);if(r.useEffect(()=>{t&&(async()=>{try{const a=await j.get("/events");x(a.data)}catch(a){h("Failed to fetch events"),console.error(a)}finally{m(!1)}})()},[t]),!(t!=null&&t.isSuperUser))return e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-600",children:"Access denied. Super user privileges required."})});if(o)return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})});if(n)return e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-red-600",children:n})});const l=c.filter(s=>s.creator.id===t.id),d=c.filter(s=>s.creator.id!==t.id);return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Super User Dashboard"}),e.jsx(i,{to:"/create-event",className:"btn btn-primary",children:"Create Event"})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Your Events"}),e.jsxs("div",{className:"space-y-4",children:[l.map(s=>e.jsxs(i,{to:`/events/${s.id}`,className:"block p-4 border border-gray-200 rounded-lg hover:border-primary-500 transition-colors",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.description})]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[s.participants.length," participants"]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-2 text-sm text-gray-500",children:[e.jsxs("span",{children:["Theme: ",s.theme]}),e.jsx("span",{children:s.isPublic?"Public":"Private"})]})]},s.id)),l.length===0&&e.jsx("p",{className:"text-gray-600",children:"No events created yet"})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Other Events"}),e.jsxs("div",{className:"space-y-4",children:[d.map(s=>e.jsxs(i,{to:`/events/${s.id}`,className:"block p-4 border border-gray-200 rounded-lg hover:border-primary-500 transition-colors",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.description})]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[s.participants.length," participants"]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-2 text-sm text-gray-500",children:[e.jsxs("span",{children:["Theme: ",s.theme]}),e.jsx("span",{children:s.isPublic?"Public":"Private"})]})]},s.id)),d.length===0&&e.jsx("p",{className:"text-gray-600",children:"No other events found"})]})]})]})}export{f as default};
